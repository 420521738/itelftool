<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 15.1.0.0" /><title></title></head><body><div><p style="font-size:14pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_990-1539741872539"></a><span style="font-family:'Times New Roman'; font-size:14pt; font-weight:bold">情况说明：</span></p><p style="font-size:14pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_012-1539741902417"></a><span style="font-family:'Times New Roman'; font-size:14pt; font-weight:bold">现在工作较忙，所以暂时先写了一个手动安装itelftool的文档，脚本自动安装后续有时间会逐渐完善。</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_056-1539741963459"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_844-1539741965007"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">1、操作系统安装</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_375-1539741969754"></a><span style="font-family:'Times New Roman'; font-size:11pt">系统：centos 7.2(1511) 64位</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_332-1539742019440"></a><span style="font-family:'Times New Roman'; font-size:11pt">操作界面：字符界面即可，即最小化安装</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_567-1539742065747"></a><span style="font-family:'Times New Roman'; font-size:11pt">配置：4核4G内存100G磁盘（磁盘可以根据自身使用环境进行增加或减小）</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_251-1539743162438"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_062-1539743172120"></a><span style="font-family:'Times New Roman'; font-size:11pt">注1：安装系统时，语言选择中文（简体中文）</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_453-1539744904714"></a><span style="font-family:'Times New Roman'; font-size:11pt">注2：注意分区，尽量手动分区</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_319-1539743447993"></a><span style="font-family:'Times New Roman'; font-size:11pt">注3：安装好系统后，注意配置固定ip地址，DNS，SSH，以及禁用防火墙（如果是内网则禁用防火墙，如果是外网则需要开放后续指定的程序端口）</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_963-1539744418070"></a><span style="font-family:'Times New Roman'; font-size:11pt">注4：如果是刚装的系统，可以使用yum安装net-tools,telnet,vim等工具来沿袭使用centos7以前系统的部分常用命令</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_843-1539743162571"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_770-1539743162704"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_499-1539745063763"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">2、安装基本软件</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_310-1539745069212"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum -y groupinstall "Development tools"</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_120-1539745199928"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_431-1539745200071"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_094-1539743162841"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">3、安装python</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_426-1539745211903"></a><span style="font-family:'Times New Roman'; font-size:11pt">python版本我们选择的是3.5.6</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_120-1539745206104"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">首先安装python依赖包：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_968-1539745276055"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum -y install openssl-devel sqlite-devel bzip2-devel ncurses-devel gdbm-devel readline-devel tcl-devel tk-devel xz-devel zlib-devel db4-devel libpcap-devel</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_939-1539746559639"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_011-1539746550245"></a><span style="font-family:'Times New Roman'; font-size:11pt">接着下载Python3.5的源码包并编译：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_324-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">解压至/home/soft/下：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_774-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pwd</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_152-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">/home/soft/Python-3.5.6</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_015-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ./configure --prefix=/home/software/python3.5 --enable-shared</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_297-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># make -j 4</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_770-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># make install</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_713-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">make install 完成之后，会在最后输出：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_059-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">Installing collected packages: setuptools, pip</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_942-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">Successfully installed pip-9.0.1 setuptools-28.8.0</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_779-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">意思是说安装python自带pip以及setuptools</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_850-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_112-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">后续步骤：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_132-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># which python</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_982-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">/usr/bin/python</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_052-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /usr/bin/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_524-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mv python python2.7.5</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_546-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ln -s /home/software/python3.5/bin/python3 /usr/bin/python</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_960-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># echo "/home/software/python3.5/lib" &gt; /etc/ld.so.conf.d/python3.5.conf</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_280-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ldconfig</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_152-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_061-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">测试python是否能用：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_044-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python --version</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_528-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">Python 3.5.6</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_673-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_179-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">修改yum脚本，否则无法使用yum：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_754-1539746551187"></a><span style="font-family:'Times New Roman'; font-size:11pt">将/usr/bin/yum以及/usr/libexec/urlgrabber-ext-down的首行修改成：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_526-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">#!/usr/bin/python2.7.5</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_072-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">执行</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_371-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum clean all</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_964-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum list </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_988-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">yum恢复正常使用</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_791-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_015-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">升级pip、setuptools：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_421-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">因为python3.5自带pip，setuptools</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_065-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># /home/software/python3.5/bin/pip3 install --upgrade pip</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_751-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ln -s /home/software/python3.5/bin/pip /usr/bin/pip3</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_082-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 -V</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_927-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">pip 18.0 from /home/software/python3.5/lib/python3.5/site-packages/pip (python 3.5)</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_096-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_920-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># wget https://bootstrap.pypa.io/ez_setup.py -O - | python</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_851-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ln -s /home/software/python3.5/bin/easy_install /usr/bin/easy_install</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_874-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt"># easy_install --version</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_537-1539746551188"></a><span style="font-family:'Times New Roman'; font-size:11pt">setuptools 33.1.1 from /home/software/python3.5/lib/python3.5/site-packages/setuptools-33.1.1-py3.5.egg (Python 3.5)</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_092-1539756212346"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_410-1539756212481"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_295-1539756212996"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">4、安装mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_541-1539745286971"></a><span style="font-family:'Times New Roman'; font-size:11pt">安装版本：5.6.40 社区版</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_810-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">安装依赖关系包：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_174-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum -y install make gcc-c++ cmake bison-devel ncurses-devel libaio libaio-devel perl-Data-Dumper</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_243-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_536-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">创建mysql组和用户：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_792-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># groupadd mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_670-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># useradd -g mysql -s /sbin/nologin mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_626-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_686-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">创建相关目录：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_825-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mkdir /home/software/mysql/sock</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_912-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mkdir /home/software/mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_684-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mkdir /home/software/mysql/data</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_853-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mkdir /home/software/mysql/pid</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_090-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mkdir /home/software/mysql/log</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_591-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># echo &gt; /home/software/mysql/log/mysql.error.log</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_678-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># echo &gt; /home/software/mysql/pid/localhost.localdomain.pid</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_440-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># chown mysql.mysql mysql/ -R</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_469-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_000-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">将源码包解压，并进入解压包，执行cmake操作：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_440-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cmake -DCMAKE_INSTALL_PREFIX=/home/software/mysql -DMYSQL_DATADIR=/home/software/mysql/data -DSYSCONFDIR=/etc -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_MEMORY_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DMYSQL_UNIX_ADDR=/home/software/mysql/sock/mysql.sock -DMYSQL_TCP_PORT=3306 -DENABLED_LOCAL_INFILE=1 -DWITH_PARTITION_STORAGE_ENGINE=1 -DEXTRA_CHARSETS=all -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_213-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_232-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># make -j 8</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_025-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># make install</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_364-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_654-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">赋权给mysql用户：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_425-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/software/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_251-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># chown mysql.mysql mysql/ -R</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_825-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ll -d mysql/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_760-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">drwxr-xr-x. 14 mysql mysql 4096 8月  22 16:57 mysql/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_033-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_198-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">初始化数据库：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_026-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/software/mysql/scripts</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_936-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ./mysql_install_db --basedir=/home/software/mysql --datadir=/home/software/mysql/data --user=mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_566-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ls /home/software/mysql/data</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_211-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">ibdata1  ib_logfile0  ib_logfile1  mysql  performance_schema  test</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_674-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">有数据即可</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_789-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_828-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">拷贝服务脚本：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_926-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/software/mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_472-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cp -ar support-files/mysql.server /etc/init.d/mysqld</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_791-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># chkconfig mysqld on</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_030-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_285-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">重新编写配置文件：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_053-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cat /etc/my.cnf</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_380-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">[client]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_392-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">port</span><span style="width:18.28pt; text-indent:0pt; display:inline-block"></span><span style="width:36pt; text-indent:0pt; display:inline-block"></span><span style="font-family:'Times New Roman'; font-size:11pt">= 3306 </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_928-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">socket  = /home/software/mysql/sock/mysqld.sock</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_484-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">default_character_set=utf8</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_351-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">[mysqld]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_067-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">port  = 3306</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_179-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">socket</span><span style="width:7.9pt; text-indent:0pt; display:inline-block"></span><span style="width:36pt; text-indent:0pt; display:inline-block"></span><span style="font-family:'Times New Roman'; font-size:11pt">= /home/software/mysql/sock/mysqld.sock </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_016-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">pid-file = /home/software/mysql/pid/localhost.localdomain.pid</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_016-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">log-error = /home/software/mysql/log/mysql.error.log</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_056-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">general-log-file = /home/software/mysql/log/mysql.log</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_234-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">log_bin_trust_function_creators=1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_480-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">long_query_time=15  </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_873-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">slow_query_log=1  </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_014-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">slow-query-log_file=/home/software/mysql/log/mysql-slow-query.log</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_355-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">event_scheduler=ON</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_378-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">symbolic-links=0</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><span style="font-family:'Times New Roman'; font-size:11pt">skip-name-resolve</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_017-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">default_storage_engine=INNODB</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_675-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">character_set_server=utf8</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_360-1539757976832"></a><span style="font-family:'Times New Roman'; font-size:11pt">collation_server=utf8_general_ci</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_055-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">log-bin=mysql-bin</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_660-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">log-slave-updates=1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_180-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">server-id = 1 </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_069-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">[mysqldump]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_730-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">quick</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_020-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">max_allowed_packet = 16M</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_369-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">[mysql]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_071-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">no-auto-rehash</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_464-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">[myisamchk]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_356-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">key_buffer_size = 512M</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_133-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">sort_buffer_size = 256M</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_831-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">read_buffer = 32M</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_233-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">write_buffer = 32M</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_224-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">[mysqlhotcopy]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_040-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">interactive-timeout</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_551-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_032-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">数据库删除空密码用户，以及创建密码：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_665-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">先安装客户端：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_014-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum -y install mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_633-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt">空密码登录：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_146-1539757976833"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mysql -uroot -p </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_458-1539757976833"></a><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt">mysql&gt; delete from mysql.user where user='';</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_980-1539757976833"></a><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt">mysql&gt; delete from mysql.db where user='';</span><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_600-1539757976833"></a><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt">mysql&gt; update mysql.user set password=password('asdf1234');</span><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_978-1539757976833"></a><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt">mysql&gt; grant all on *.* to 'root'@'%' identified by 'asdf1234' with grant option;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_149-1539757976833"></a><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt">mysql&gt; flush privileges;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_877-1539758008679"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_860-1539758035061"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_861-1539758036345"></a><span style="background-color:#ffffff; font-family:'Times New Roman'; font-size:11pt; font-weight:bold">5、安装redis</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_569-1539758040554"></a><span style="font-family:'Times New Roman'; font-size:11pt">redis 版本，选择的是4.0.11</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_520-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt"># tar xzf redis-4.0.11.tar.gz # cd redis-4.0.11 # make -j 4</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_973-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_040-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">将redis.conf 拷贝到etc目录下：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_221-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cp -ar redis.conf /etc/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_480-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_852-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">将/etc/redis.conf修改 daemonize no 为 daemonize</span><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">yes</span><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span><span style="font-family:'Times New Roman'; font-size:11pt">，这样就可以默认启动就后台运行</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_030-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">vim /etc/redis.conf</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_580-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">daemonize yes</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_123-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_453-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">将redis移动到统一软件路径下：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_196-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mv redis-4.0.11 /home/software/redis</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_993-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_075-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">启动：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_592-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt"># /home/software/redis/src/redis-server /etc/redis.conf</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_780-1539758275726"></a><span style="font-family:'Times New Roman'; font-size:11pt">将上述命令添加到/etc/rc.local 设置为开机自启动</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_877-1539758035193"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_298-1539745206279"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_440-1539746584921"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">6、安装django</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_522-1539746594037"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install Django==1.11.14</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_922-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">Installing collected packages: pytz, Django</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_530-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">Successfully installed Django-1.11.14 pytz-2018.5</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_246-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">检查/home/software/python3.5/lib/python3.5/site-packages/下是否有Django模块</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_285-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">python测试是否能导入django模块：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_915-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python3</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_983-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">Python 3.5.6 (default, Aug 22 2018, 14:18:58) </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_260-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">[GCC 4.8.5 20150623 (Red Hat 4.8.5-4)] on linux</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_527-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">Type "help", "copyright", "credits" or "license" for more information.</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_582-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">&gt;&gt;&gt; import django</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_827-1539747707641"></a><span style="font-family:'Times New Roman'; font-size:11pt">&gt;&gt;&gt; exit()</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_055-1539745206435"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_063-1539745206576"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_879-1539747782499"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">7、创建一个django测试工程</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_034-1539747789438"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/app/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_715-1539747838647"></a><span style="font-family:'Times New Roman'; font-size:11pt"># /home/software/python3.5/lib/python3.5/site-packages/django/bin/django-admin.py startproject testproject</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_660-1539747868050"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_722-1539748264804"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/app/testproject/testproject</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_232-1539748187036"></a><span style="font-family:'Times New Roman'; font-size:11pt">下面黑体为新增测试内容：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_330-1539748144628"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cat views.py </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_062-1539748152539"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">from django.shortcuts import render,HttpResponse</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_529-1539748152539"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">def helloworld(request):</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_421-1539748152539"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">    return HttpResponse('hello world')</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_353-1539748152539"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cat urls.py </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_356-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">from django.conf.urls import url</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_032-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">from django.contrib import admin</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_446-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">from . import views</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_772-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">urlpatterns = [</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_257-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">    url(r'^admin/', admin.site.urls),</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_286-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">   </span><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold"> url(r'^hello/', views.helloworld),</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_090-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_191-1539748266339"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_788-1539748254697"></a><span style="font-family:'Times New Roman'; font-size:11pt">内容更改：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_983-1539748166579"></a><span style="font-family:'Times New Roman'; font-size:11pt">settings.py文件中：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_999-1539748275070"></a><span style="font-family:'Times New Roman'; font-size:11pt">将</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_056-1539748280390"></a><span style="font-family:'Times New Roman'; font-size:11pt">ALLOWED_HOSTS = []</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_014-1539748282143"></a><span style="font-family:'Times New Roman'; font-size:11pt">更改为：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_153-1539748275264"></a><span style="font-family:'Times New Roman'; font-size:11pt">ALLOWED_HOSTS = ['192.168.1.241']</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_018-1539747782640"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_147-1539755605192"></a><span style="font-family:'Times New Roman'; font-size:11pt">启动测试项目：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_531-1539755613570"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/app/testproject</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_570-1539756043488"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python manage.py runserver 0.0.0.0:8008</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_274-1539756066818"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_653-1539756061335"></a><span style="font-family:'Times New Roman'; font-size:11pt">浏览器访问：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_345-1539756043685"></a><a style="color:#003884" href="http://192.168.1.241:8008/hello/"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">http://192.168.1.241:8008/hello/</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_782-1539756074174"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">页面返回hello world即为测试成功。</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_759-1539758432003"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_060-1539758432152"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_499-1539758432731"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt; font-weight:bold">8、安装python插件</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_217-1539758799840"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">注：如果在pip安装过程中，非常慢或者失败，可以尝试使用阿里云安装源，也就是在安装命令后加上（</span><span style="font-family:'Times New Roman'; font-size:11pt">--trusted-host mirrors.aliyun.com）或者使用清华大学的pip安装源，在命令后加上（-i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a><span style="font-family:'Times New Roman'; font-size:11pt">）</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_943-1539758438443"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install djangorestframework==3.8.2 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_066-1539756087969"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install django-session-security==2.6.0 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_082-1539756088101"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install cryptography==2.3 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_374-1539759296565"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install paramiko==2.0.2 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_884-1539759332179"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install pycparser==2.18 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_674-1539759368931"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install PyMySQL==0.9.2 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_377-1539759405746"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install sh==1.12.9 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_973-1539759660719"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum -y install python-devel mysql-devel</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_276-1539759455370"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install mysqlclient==1.3.12 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_051-1539759595041"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install pytest==3.0.7 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_390-1539759577449"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install celery==4.2.1 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_077-1539759780910"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install django-celery-beat==1.1.1 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_511-1539760533107"></a><span style="font-family:'Times New Roman'; font-size:11pt; text-decoration:line-through"># pip3 install django_celery_results==1.0.1 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:line-through underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt; text-decoration:line-through">（有缺陷）</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_341-1539759784487"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install gunicorn==19.7.1 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_172-1539759815852"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install redis==2.10.6 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_773-1539759900303"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install psutil==5.2.2 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_015-1539759901500"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install schedule==0.4.3 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_428-1539759936699"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install pymongo==3.3.0 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_647-1539759972313"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install requests==2.11.1 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_071-1539760009135"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install django-db==0.0.7 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_098-1539760051762"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install Pillow==5.2.0 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_118-1539760224467"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_881-1539759937034"></a><span style="font-family:'Times New Roman'; font-size:11pt">ansible模块相关：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_642-1539760343270"></a><span style="font-family:'Times New Roman'; font-size:11pt"># yum install -y epel-release gcc expect python-pip python-devel smartmontools dmidecode libselinux-python git rsync dos2unix openssl openssl-devel</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_256-1539759239240"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install ansible==2.6.3 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_633-1539760431361"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_814-1539759239368"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">webshell模块相关：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_056-1539760727931"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install channels==2.0.2 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_649-1539760777191"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install channels-redis==2.1.0 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_783-1539759239514"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install amqp==1.4.9 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_250-1539762006264"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install anyjson==0.3.3 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_210-1539762050977"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install asgi-redis==1.4.3 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_399-1539762091423"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install asgiref==2.3.0 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_357-1539762133901"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install async-timeout==3.0.0 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_921-1539762185212"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install attrs==17.4.0 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_056-1539759239656"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_648-1539759239788"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">域名模块相关：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_111-1539762325119"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install aiohttp==3.4.4 -i </span><a style="color:#003884" href="https://pypi.tuna.tsinghua.edu.cn/simple"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://pypi.tuna.tsinghua.edu.cn/simple</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_538-1539762328184"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># pip3 install bs4==0.0.1 -i https://pypi.tuna.tsinghua.edu.cn/simple</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_764-1539759239941"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_682-1539759240066"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_061-1539759240207"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt; font-weight:bold">9、安装相关模块需要的条件</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_444-1539764036585"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># cd /home/app/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_412-1539764902485"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">下载源码：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_061-1539764036734"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># git clone </span><a style="color:#003884" href="https://github.com/420521738/itelftool.git"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://github.com/420521738/itelftool.git</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_677-1539764105480"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">或者在github上下载zip包，浏览器下载zip包更快，使用git clone比较慢，我这里是先下载好zip包</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_735-1539764940813"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># cd /home/soft</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_118-1539764993270"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># unzip itelftool-master.zip</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_582-1539764909497"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># mv itelftool-master /home/app/itelftool</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_926-1539765067893"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_553-1539762793126"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt; font-weight:bold">ansible模块相关：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_523-1539765779816"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">创建目录：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_774-1539762896493"></a><span style="font-family:'Times New Roman'; font-size:11pt">main_dir="/var/opt/itelftool"</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_111-1539762911031"></a><span style="font-family:'Times New Roman'; font-size:11pt">data_dir="$main_dir/data"</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_666-1539762911031"></a><span style="font-family:'Times New Roman'; font-size:11pt">mkdir -p $data_dir/ansible/playbook</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_052-1539762911031"></a><span style="font-family:'Times New Roman'; font-size:11pt">mkdir -p $data_dir/ansible/roles</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_365-1539762911031"></a><span style="font-family:'Times New Roman'; font-size:11pt">mkdir -p /etc/ansible/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_081-1539759240480"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># cp -ar /home/app/itelftool/installfile/server/ansible/ansible.cfg /etc/ansible/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_550-1539765571604"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_994-1539765874855"></a><span style="font-family:'Times New Roman'; font-size:11pt">做软链接：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_269-1539765776190"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ln -s /home/software/python3.5/bin/ansible /usr/bin/ansible</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_429-1539765776190"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ln -s /home/software/python3.5/bin/ansible-playbook /usr/bin/ansible-playbook</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_258-1539759240597"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_059-1539765876132"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">创建hosts文件（下面是举例）：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_890-1539765880101"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">/etc/ansible/hosts</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_045-1539765901001"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"># cat /etc/ansible/hosts</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_095-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">LinuxServer1 ansible_host=192.168.1.234 host_name=LinuxServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_977-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">LinuxServer2 ansible_host=192.168.1.235 host_name=LinuxServer2</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_011-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">CentosServer1 ansible_host=192.168.1.240 host_name=CentosServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_668-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">WindowsServer1 ansible_host=192.168.7.199 host_name=WindowsServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_979-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">[UbuntuGroup]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_214-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">LinuxServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_948-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">LinuxServer2</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_730-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">[CentosGroup]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_888-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">CentosServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_085-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">[WindowsGroup]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_720-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">WindowsServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_491-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">[LinuxGroup]</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_080-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">LinuxServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_534-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">LinuxServer2</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_597-1539765901313"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">CentosServer1</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_700-1539765785419"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_458-1539765785553"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt; font-weight:bold">任务编排相关：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_740-1539765965358"></a><span style="font-family:'Times New Roman'; font-size:11pt"># pip3 install django_celery_results==1.0.1   注意：这样执行是不行的，1.0.1包有缺陷，无法获取结果对应的任务名和任务类型</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_472-1539765989352"></a><span style="font-family:'Times New Roman'; font-size:11pt">需要通过下面的方法来安装这个结果插件：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_133-1539765989352"></a><a style="color:#003884" href="https://github.com/celery/django-celery-results"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">https://github.com/celery/django-celery-results</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_770-1539765989352"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">下载该插件的源码包，该源码包已经对结果的表结构进行了优化。</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_838-1539765785686"></a><span style="font-family:'Times New Roman'; font-size:11pt">执行：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_189-1539766242854"></a><span style="font-family:'Times New Roman'; font-size:11pt"># unzip django-celery-results-master.zip</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_193-1539766242854"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd  django-celery-results-master</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_133-1539766242854"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python setup.py build</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_410-1539766242854"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python setup.py install</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_064-1539766242854"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_338-1539766242854"></a><span style="font-family:'Times New Roman'; font-size:11pt">上述的安装包在准备环节都已经进行安装了，可以再检查一遍是否已经安装完成。</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_851-1539766242854"></a><span style="color:#df402a; font-family:'Times New Roman'; font-size:11pt">注意一点：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_045-1539766242854"></a><span style="color:#df402a; font-family:'Times New Roman'; font-size:11pt">需要做软链接，否则找不到celery的二进制执行命令</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_436-1539766242854"></a><span style="color:#df402a; font-family:'Times New Roman'; font-size:11pt"># ln -s /home/software/python3.5/bin/celery /usr/bin/celery</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_281-1539765785819"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_869-1539765785960"></a><span style="font-family:'Times New Roman'; font-size:11pt">celery以及celery beat在服务器端的处理：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_545-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mkdir /var/opt/itelftool/pid</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_028-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># main_dir="/var/opt/itelftool"</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_846-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># config_dir="$main_dir/config"</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_383-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># mkdir -p $config_dir/celery</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_196-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/app/itelftool/installfile/server/celery/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_857-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cp -ar beat.conf $config_dir/celery/beat.conf</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_372-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cp -ar celery.service /usr/lib/systemd/system/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_294-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cp -ar start_celery.sh $config_dir/celery/start_celery.sh</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_442-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cp -ar beat.service /usr/lib/systemd/system/</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_131-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># chmod +x $config_dir/celery/start_celery.sh</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_027-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># systemctl daemon-reload</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_210-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># chkconfig celery on</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_026-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># chkconfig beat on</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_844-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_120-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt">启动celery：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_286-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># service celery start</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_246-1539766756860"></a><span style="font-family:'Times New Roman'; font-size:11pt"># service beat start</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_758-1539765786109"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_040-1539766908890"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_380-1539766909122"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt; font-weight:bold">10、导入数据库结构</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_558-1539766915826"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">先手动创建itelftool数据库：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_825-1539767079563"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">MySQL [(none)]&gt; create database itelftool default charset utf8;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_060-1539767119013"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_210-1539767219190"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_381-1539766926092"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">11、创建管理员以及常规操作</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_154-1539767274515"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/app/itelftool</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_183-1539767700760"></a><span style="font-family:'Times New Roman'; font-size:11pt">生成数据库表结构：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_196-1539767705963"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python manage.py makemigrations</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_764-1539767252350"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python manage.py migrate</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_462-1539767714172"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_050-1539767714325"></a><span style="font-family:'Times New Roman'; font-size:11pt">创建管理员：</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_412-1539767784198"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/app/itelftool</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_798-1539767717968"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python manage.py createsuperuser</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_614-1539767762378"></a><span style="font-family:'Times New Roman'; font-size:11pt">Email address: 420521738@qq.com</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_765-1539767762378"></a><span style="font-family:'Times New Roman'; font-size:11pt">Name: 陈秋飞</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_490-1539767762378"></a><span style="font-family:'Times New Roman'; font-size:11pt">Password: </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_738-1539767762378"></a><span style="font-family:'Times New Roman'; font-size:11pt">Password (again): </span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_236-1539767762378"></a><span style="font-family:'Times New Roman'; font-size:11pt">Superuser created successfully.</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_573-1539767762378"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_060-1539767769645"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_149-1539768170981"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">12、字体拷贝</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_114-1539768178647"></a><span style="font-family:'Times New Roman'; font-size:11pt">由于验证码需要用到STZHONGS.TTF这个字体，也可以使用其他的字体，看个人喜欢，将字体上传到系统的/usr/share/fonts/下即可</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_090-1539768234612"></a><span style="font-family:'Times New Roman'; font-size:11pt"># ll /usr/share/fonts/STZHONGS.TTF</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_878-1539768266745"></a><span style="font-family:'Times New Roman'; font-size:11pt">-rw-r--r--. 1 root root 12135284 10月 29 2002 /usr/share/fonts/STZHONGS.TTF</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:21pt"><a name="_771-1539768266745"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_115-1539768171351"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_056-1539767770177"></a><span style="font-family:'Times New Roman'; font-size:11pt; font-weight:bold">13、启动itelftool</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_415-1539767787208"></a><span style="font-family:'Times New Roman'; font-size:11pt"># cd /home/app/itelftool</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_527-1539767774663"></a><span style="font-family:'Times New Roman'; font-size:11pt"># python manage.py runserver 0.0.0.0:9009</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_532-1539768534164"></a><span style="font-family:'Times New Roman'; font-size:11pt">启动之后，浏览器访问</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_313-1539768554780"></a><a style="color:#003884" href="http://192.168.1.241:9009"><span style="color:#003884; font-family:'Times New Roman'; font-size:11pt; text-decoration:underline">http://192.168.1.241:9009</span></a></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_960-1539768556225"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">即可。</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_994-1539768518012"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p></div><div class="cnzz" style="display: none;">
	        <script src="http://s95.cnzz.com/stat.php?id=1253551100&web_id=1253551100" language="JavaScript"></script>
            </div>
            <div class="docpe" style="position: absolute;color: white;margin-left:-450;">
            <a target="_blank" href="http://www.docpe.com">档铺网——在线文档免费处理</a>
            </div>
            </body></html>